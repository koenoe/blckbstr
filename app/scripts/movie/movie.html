<div class="movie">
  <div class="movie__backdrop" style="background-image: url({{vm.tmdb_backdrop_url}})"></div>
  <div class="container">
    <div class="movie__header">
      <div class="row center">
        <div class="col-xs-12 col-sm-6 col-md-7">
          <div class="movie__title">
            <h1>{{vm.title}}</h1>
            <div class="h3">{{vm.release_year}}</div>
          </div>
          <div class="movie__subheader">
            <button class="btn">{{vm.certification}}</button>
            <p>Directed by {{vm.directors.join(',')}}</p>
          </div>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-5">
          <div movie-rating ratings="vm.ratings"></div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-3 col-lg-2">
        <div class="movie__poster">
          <img src="{{vm.tmdb_poster_url}}">
        </div>
      </div>
      <div class="col-xs-12 col-sm-9 col-lg-10">
        <div class="movie__overview">
          <p class="movie__tagline">{{vm.tagline}}</p>
          <p class="movie__plot">{{vm.plot}}</p>
          <div class="row center">
            <div class="col-xs-12 col-sm-6">
              <div class="movie__details">
                <strong>Runtime</strong> {{vm.runtime}} minutes
              </div>
            </div>
            <div class="col-xs-12 col-sm-6 text-right">
              <h3 class="visuallyhidden" ng-if="vm.genres">Genres</h3>
              <div class="btn--group" ng-if="vm.genres">
                <button class="btn" ng-repeat="genre in vm.genres">{{genre}}</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-md-3 stretch">
        <div class="box box--secondary">
          <div class="box__content">
            <h2 class="box__header">Cast &amp; Crew</h2>
            <h3 class="box__subtitle">Directors</h3>
            {{vm.directors.join(',')}}
            <h3 class="box__subtitle">Writers</h3>
            {{vm.writers.join(',')}}

            <div class="box__footer" ng-if="vm.imdb_url">
              <a class="btn" href="{{vm.imdb_url}}/fullcredits">See full cast &amp; crew</a>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xs-4 col-md-3 stretch" ng-repeat="actor in vm.actors">
        <div class="box box--secondary">
          <div class="movie__castitem">
            <img src="{{actor.image || 'https://goatmilk.files.wordpress.com/2008/07/batman2_narrowweb__300x4506.jpg'}}">
            <div class="movie__castitem__overlay">
              <div class="movie__castitem__name">
                <strong>{{actor.name}}</strong>
                <br> as {{actor.character}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-md-6">
        <div class="row">
          <div class="col-xs-12 col-md-6 stretch">
            <div class="box box--primary">
              <div class="box__content">
                <h2 class="box__header">Release date</h2>
                {{vm.release_date}}
              </div>
            </div>
          </div>
          <div class="col-xs-12 col-md-6 stretch visible-md">
            <div class="box bubble-right">
              <div class="box__content">
                <h2 class="box__header">Movie trailer</h2>
              </div>
            </div>
          </div>
          <div class="col-xs-12 col-sm-6 stretch">
            <div class="box box--tertiary">
              <div class="box__content">
                <h2 class="box__header">Countries</h2>
                {{vm.countries}}
              </div>
            </div>
          </div>
          <div class="col-xs-12 col-sm-6 stretch">
            <div class="box box--secondary">
              <div class="box__content">
                <h2 class="box__header">Languages</h2>
                {{vm.languages}}
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-md-6 stretch">
        <div class="box box--secondary">
          <div class="box__content">
            <div class="fluid-video">
              <div class="fluid-video__frame">
                <iframe src="{{vm.trailer_url}}"></iframe>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-lg-9">
        <div class="row">
          <div class="col-xs-4 stretch">
            <div class="box text-center">
              <div class="box__content">
                <div class="box__value h1">{{vm.oscars}}</div>
                <span class="h4">oscars</span>
              </div>
            </div>
          </div>
          <div class="col-xs-4 stretch">
            <div class="box box--primary text-center">
              <div class="box__content">
                <div class="box__value h1">{{vm.wins}}</div>
                <span class="h4">wins</span>
              </div>
            </div>
          </div>
          <div class="col-xs-4 stretch">
            <div class="box box--secondary text-center">
              <div class="box__content">
                <div class="box__value h1">{{vm.nominations}}</div>
                <span class="h4">nomina&shy;tions</span>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xs-12 col-sm-6">
            <div class="box box--secondary text-center">
              <div class="box__content">
                <h4 class="box__subtitle">Budget</h4>
                <div class="box__value h2">{{vm.budget}}</div>
              </div>
            </div>
          </div>
          <div class="col-xs-12 col-sm-6">
            <div class="box box--tertiary text-center">
              <div class="box__content">
                <h4 class="box__subtitle">Revenue</h4>
                <div class="box__value h2">{{vm.revenue}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-lg-3 stretch visible-lg">
        <div class="box bubble-left text-right">
          <div class="box__content">
            <h2 class="box__header">Awards &amp; Prices</h2>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 text-center">
        <div class="movie__footer">
         <h3>More information</h3>
          <div class="btn--group">
            <a class="btn" href="{{vm.imdb_url}}" target="_blank" ng-if="vm.imdb_url">More details at IMDb</a>
            <a class="btn" href="{{vm.letterboxd_url}}" target="_blank" ng-if="vm.letterboxd_url">More details at Letterboxd</a>
            <a class="btn" href="{{vm.tmdb_url}}" target="_blank" ng-if="vm.tmdb_url">More details at TMDb</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>